{% extends "/layout/provider_nav.html" %}

{% set active_page = "profile" %}

{% block subhead %}{{ _('Profile') }}{% endblock %}
{% block lead %}{{ _('Fill out your profile for better patient matches.') }}{% endblock %}

{% block content %}
<!-- Form -->
<form method="post" action="/provider/profile/{{ provider.vanity_url }}" class="form-horizontal">
	<div class="row">
		<div class="span6">
			<fieldset>
				{{ macro.make_standard_form(profile_form) }}
			</fieldset>
		</div>
		<div class="span6" align="center">
			{% if not provider.profile_photo_blob_key %}
			<img src="/assets/img/default-profile.png" width="100" height="100">
			{% else %}
			<img src="{{ provider.get_profile_photo_image_url(300) }}" width="300">
			{% endif %}

			<br>
			<br>
			<a class="btn btn-primary" data-toggle="modal" href="#upload_photo_modal">{{ _('Upload') }}</a>
		</div>
	</div>
	<div class="row">
		<div class="span12 form-actions">
			<button type="submit" class="btn btn-primary">
				{{ _('Save') }}
			</button>
		</div>
	</div>
</form>

<form action="{{ upload_url }}" method="post" enctype="multipart/form-data">
	<div class="modal hide" id="upload_photo_modal" style="display: none;">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">Ã—</a>
			<h3>{{ _('Upload') }}</h3>
		</div>
		<div class="modal-body">
			{{ upload_form.profile_photo }}
		</div>
		<div class="modal-footer">
			<button type="submit" class="btn btn-primary">
				{{ _('Save') }}
			</button>
			<a class="btn" data-dismiss="modal">{{ _('Cancel') }}</a>
		</div>
	</div>
</form>
{% endblock %}
